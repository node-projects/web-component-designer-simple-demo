import { DesignItem } from '../../item/DesignItem.js';
export class DefaultHtmlParserService {
    async parse(html, serviceContainer, instanceServiceContainer, parseSnippet) {
        const parser = new DOMParser();
        //@ts-ignore
        const doc = parser.parseFromString(html, 'text/html', { includeShadowRoots: true });
        const headNodes = this.createDesignItems(doc.head.childNodes, serviceContainer, instanceServiceContainer);
        const bodyNodes = this.createDesignItems(doc.body.childNodes, serviceContainer, instanceServiceContainer);
        return [...headNodes, ...bodyNodes];
    }
    createDesignItems(elements, serviceContainer, instanceServiceContainer) {
        let res = [];
        for (let el of elements) {
            res.push(this._createDesignItemsRecursive(el, serviceContainer, instanceServiceContainer));
        }
        return res;
    }
    _createDesignItemsRecursive(node, serviceContainer, instanceServiceContainer) {
        return DesignItem.createDesignItemFromInstance(node, serviceContainer, instanceServiceContainer);
    }
}
