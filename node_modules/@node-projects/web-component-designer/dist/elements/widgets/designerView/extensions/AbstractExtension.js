export class AbstractExtension {
  constructor(designerView, extendedItem) {
    this.overlays = [];
    this.designerView = designerView;
    this.extendedItem = extendedItem;
    this.overlayLayer = designerView.overlayLayer;
  }

  _removeAllOverlays() {
    for (let o of this.overlays) {
      this.overlayLayer.removeChild(o);
    }

    this.overlays = [];
  }

  _drawLineOverlay(x1, y1, x2, y2, className) {
    const line = document.createElementNS("http://www.w3.org/2000/svg", "line");
    line.setAttribute('x1', x1);
    line.setAttribute('y1', y1);
    line.setAttribute('x2', x2);
    line.setAttribute('y2', y2);
    if (className) line.setAttribute('class', className);
    this.overlayLayer.appendChild(line);
    this.overlays.push(line);
    return line;
  }

  _drawCircleOverlay(x, y, radius, className) {
    const circle = document.createElementNS("http://www.w3.org/2000/svg", "circle");
    circle.setAttribute('cx', x);
    circle.setAttribute('cy', y);
    circle.setAttribute('r', radius);
    if (className) circle.setAttribute('class', className);
    this.overlayLayer.appendChild(circle);
    this.overlays.push(circle);
    return circle;
  }

  _drawRect(x, y, w, h, className) {
    const rect = document.createElementNS("http://www.w3.org/2000/svg", "rect");
    rect.setAttribute('x', x);
    rect.setAttribute('y', y);
    rect.setAttribute('width', w);
    rect.setAttribute('height', h);
    if (className) rect.setAttribute('class', className);
    this.overlayLayer.appendChild(rect);
    this.overlays.push(rect);
    return rect;
  }

  _drawText(text, x, y, className) {
    const textEl = document.createElementNS("http://www.w3.org/2000/svg", "text");
    textEl.setAttribute('x', x);
    textEl.setAttribute('y', y);
    textEl.textContent = text;
    if (className) textEl.setAttribute('class', className);
    this.overlayLayer.appendChild(textEl);
    this.overlays.push(textEl);
    return textEl;
  }

}